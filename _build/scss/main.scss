@import "bourbon/bourbon";
@import "neat/neat";

@import "spec/tacular";

@import "globals/globals";
@import "dashboard";

$white:white;

* {
  box-sizing:border-box;
}

.greedy {
  @extend %very-greedy;
}

@mixin body-contrast($color, $bg, $outline) {
  body {
    background:$bg !important;
    color:$color !important;
  }
  * {
    background:$bg !important;
    color:currentColor !important;
    border-color:currentColor !important;
  }
  a[href] {
    text-decoration:underline !important;
  }
  * {
    &:focus, &:active, &:target {
      outline:4px double $outline !important;
      border:none !important;
    }
  }
}

%white-on-black-contrast {
  @include body-contrast(white, black, yellow);
}

%black-on-white-contrast {
  @include body-contrast(black, white, black);
}

@mixin white-on-black-contrast() {
  @extend %white-on-black-contrast;
}

@mixin black-on-white-contrast() {
  @extend %black-on-white-contrast;
}

html[contrast="white-on-black"] {
  @extend %white-on-black-contrast;
}

html[contrast="black-on-white"] {
  @extend %black-on-white-contrast;
}

@media screen and (-ms-high-contrast: active) {
  /* All high contrast styling rules */
}
@media screen and (-ms-high-contrast: white-on-black) {
  @include white-on-black-contrast;
}
@media screen and (-ms-high-contrast: black-on-white) {
  @include black-on-white-contrast;
}

select, input[type="file"] {
  max-width:100%;
}

textarea, input[type="text"] {
  box-sizing:border-box;
}

body {
  margin:0;
  background:rgb(239,239,239);
  font-family: -apple-system,
       BlinkMacSystemFont,
       "Segoe UI",
       Roboto,
       Oxygen-Sans,
       Ubuntu,
       Cantarell,
       "Helvetica Neue",
       sans-serif;
}

.quick-links {
  padding-bottom:1rem;
}

button[disabled] {
  opacity:0.7;
}

body.snappy { // experimental Webkit is suuuuuper buggy spec is a WIP
  @include media($mobile) {
    //scroll-snap-points-y: repeat(100%);
    scroll-snap-type: proximity; //mandatory
    //scroll-padding: em(52) 0 0 0;
    .page-wrapper {
      > * {
        scroll-snap-coordinate: 0 -52px;
      }
    }
  }
  @include media($gtMobile) {
    #grail > main {
      scroll-snap-type: proximity; //mandatory
      //scroll-padding: em(52) 0 0 0;
      > form > *, > form details, > form section {
        scroll-snap-coordinate: 0 -52px;
      }
    }
  }
}

label[for="quick__new_settingvalue"], label[for="quick_sendmessage"] {
  margin-top:.5rem;
  display:block;
}

#mainnav__nav li {
  form {
    padding-top:.5rem;
  }
  form > div {
    margin-top:.5rem;
    display:flex;
    > * {
      &:first-child {
        flex-grow:1;
        padding-right:.5rem;
      }
    }
    button, input[type="text"] {
      line-height:2rem;
      border:1px solid grey;
      border-radius:4px;
      padding:0 0.5rem;
    }
    button {
      background:$bodyBG;
      border:1px solid darken($bodyBG, 6%);
      color:$dark;
    }
    #new_pagetitle {
      line-height:2rem;
      padding-left:.5rem;
      padding-right:.5rem;
    }
  }

  &.quick-upload {
    form {
      padding-top:0;
    }
    form > div button {
      line-height:initial;
    }
  }
}

.command-line {
  textarea {
    font-family:monospace, sans-serif;
    font-size:.8rem;
    background:$dark;
    color:$white;
    margin-top:1rem;
  }
}

#grail {
  main {
    > header, > form > header {
      > div {
        @include shaded;
        //padding-top:1rem;
        background:white;
        @include media($gtMobile) {
          padding:.5rem;
        }
      }
    }
  }
  html.treeless & {
      main {
        padding-left:14px;
      }
  }
  > .preview {
    position:relative;
    display:none;
    body[data-previewing="true"] & {
      display:block;
    }
    > div, > div > iframe {
      position:absolute;
      top:0;
      left:0;
      right:0;
      bottom:0;
      overflow:auto;
      border:none;
    }
    > div > iframe {
      width:100%;
      height:100%;
    }
    @include media($mobile) {
      min-height:100vh;
      > div {
        left:0.5rem;
        right:0.5rem;
      }
    }
  }
  html[complex-layout] & {
    @include media($gtMobile) {
      display: flex;
      flex-grow: 1;
      main {
        padding-right:14px;
      }
      > .preview {
        flex-basis:320px;
        max-width:320px;
        flex-grow:0;
      }
      main,aside {
        flex-grow:2;
      }
    }
  }
}

#jumpsearch {
  @extend %accessibly-hidden;
}

.page-wrapper {
  html[complex-layout] & {
    @include media($gtMobile) {
      @include outer-container;
      max-width:none;

      display:flex;
      flex-wrap:no-wrap;

      //max-height:100vh;
      //overflow-y:hidden;

      max-height: 100vh;
      flex-direction: column;
      //overflow-y: auto;

      min-height:100vh;

      #uberform #ubersearch {
        line-height:3rem;
      }

      .sidenav {
        position:sticky;
        position:-webkit-sticky;
        top:0;
        left:0;
        right:0;
        z-index:99999 + 10;
        @include media($gtMobile) {
          font-size:0.8em;
          #mainnav {
            padding-right:1rem;
          }
        }
      }
      .sidenav, #stickybar {
        width:100%;
      }
      #stickybar {
        display:none;
      }

      #tree {
        //@include span-columns(3);
        //position:absolute;
        //top:4rem;
        //left:0;
        //width:25vw;
        //bottom:0;
        border-right:1px solid darken($bodyBG, 8%);
        margin-right:0;
      }
      #tree, main {
        overflow-y:auto;
        overflow-scrolling: touch;
        -webkit-overflow-scrolling: touch;
      }
      .document {
        //margin-top:-2.4rem;
      }
      .actionnav {
        position:absolute;
        font-size:0.8em;
        top:0;
        right:0;
        max-width:24rem;
        margin-left:auto;

        //position:fixed;

        position: sticky;
        position: -webkit-sticky;


        background:$bodyBG;
        z-index:99999;
        nav > * {
          padding-left:0.5rem;
          padding-right:0.5rem;
          line-height:2;
          min-height:auto;
          padding-top:0.25rem;
          padding-bottom:0.25rem;
        }
        nav > *:first-child {
          flex-basis:auto;
          margin-bottom:0;
          margin-right:.4em;
        }
      }
      main {
        //@include span-columns(9);
        //position:relative;
        //margin-right:0;

        //position: absolute;
        //width:75vw;
        //right: 0;
        //top:4rem;
        //bottom: 0;
        overflow-y: auto;

        /* max-height: 20em; */
        flex-grow: 1;

      }
    }
  }
}

%painted {
  background-image: linear-gradient(to right, #3f4850 0%, #365462 46%, #3e5554 60%, #42554d 68%, #573d4e 100%);
}

body {
  &.searching {
    //overflow-y:auto;

    .page-wrapper {
      max-height:none;
    }

    .sidenav {
      html[complex-layout] & {
        position:relative;
        #mainnav {
          display:flex;
          flex-wrap:wrap;


          @include media($gtMobile) {
             padding-right:0;
          }
          #mainnav__nav {
            flex-basis:100vw;
            background:#2c3a48;

            > details {
              border-right:1px solid #1a2b3d;
              flex-grow:1;
              &:last-of-type {
                border:none;
              }
            }
            > details > nav {
              position:relative;
            }
          }
        }
      }
    }
  }
}

#mainnav__nav li.messages {
  label {
    color:currentColor;
  }
}

#mainnav__nav li.system-setting {
  label {
    color:currentColor;
  }
  form > div {
    display:block;
  }
}

fieldset {
  &.mild {
    max-width:20em;
    > div {
      margin:1rem 0;
    }
  }
}

table {
  &.mild {
    max-width:30em;
  }
}

#mainnav__nav li.messages {
  form > div {
   display:block;
 }
 button[type="submit"] {
   margin-top:.5rem;
   display:block;
   width:100%;
   cursor:pointer;
 }
}

form > .sticky-scroll {
  margin-top: 1em;
  margin-bottom: 1em;
  @include media($gtDesktop) {
    display:none;
  }
}

#mainnav {
  @extend %painted;
  color:white;
  //min-height:100vh;

  .close-nav {
    body.searching & {
      display:block;
    }
  }

  & + footer {
    background:darken(#2c3a48, 6%);
    color:$white;
    border:1px solid darken(#2c3a48, 9%);
    border-left:none;
    border-right:none;

    transition:background 640ms ease;

    &:hover, &:focus, &:target, &:active {
      background:darken(#2c3a48, 9%);
      border:1px solid darken(#2c3a48, 12%);
    }

    body.searching & {
      display:block;
    }
    a {
      @extend %clickable;
      display:block;
      padding:.5rem 0;
    }
    h3,h4 {
      margin:0;
      text-align:center;
    }
  }

  .new-context-element {
    @include media(min-width 641px max-width 1530px, 12) {
      @include span-columns(6);
    }
  }

  html[complex-layout] body:not(.searching) & {
    label[for="ubersearch"] {
      @include media(min-width 641px max-width 1530px, 12) {
        top: 0 !important;
        bottom: 0 !important;
        left: 0 !important;
        right: 0 !important;
        line-height: 3.5rem !important;
        font-size: 160% !important;
        text-align:center;
      }
    }

    #uberform {
      @include media($gtMobile) {
        //flex-grow:4;
        //flex-basis:10em;
        flex-basis:4em;

      }
      @include media(min-width 641px max-width 1529px, 12) {
        .search {
          @include accessibly-hidden;
        }
      }
      @include media(min-width 1530px, 12) {
          flex-basis:10em;
      }
    }

    #ubersearch {
      @include media($gtMobile) {
        min-width:auto;
        padding-left:0;
        padding-right:0;
      }
    }
  }

  html[complex-layout] & {
    @include media($gtMobile) {
      //@include outer-container;
      //max-width:none;



      display:flex;

      .radio-bar {
        @include accessibly-hidden;
      }

      > .page {
        @include media($gtMobile) {
          flex-basis:19em;
        }
      }

      #uberform {
        margin:0;
      }

      #mainnav__nav {
        > details > nav {
          position:absolute;
          z-index:99999;
        }
        @include media($gtMobile) {
          flex-grow:4;
          font-size:0.85em;
        }

      }

      #uberform {
        @include media(min-width 1530, 12) {
          flex-basis:10em;
        }
      }

      #uberform #ubersearch {
        margin-bottom:0;
      }

      #mainnav__nav {
        display:flex;
        //justify-content:flex-end;
        justify-content:space-between;
      }
    }
  }
}

.logo {
  height:2rem;
  width:2rem;
}

#mainnav {
  //@include outer-container;
  padding:0.5em 0 0 0;
  > * {
    padding:0 1em;
  }
  h1,.version {
    margin:0 auto;
    code {
      font-weight:400;
      font-size:0.8em;
      padding-left:.2em;
    }
  }
  .version {
    font-size:1.1em;
    font-style:italic;
    font-weight:400;
    color:rgb(248,248,248);
    display:flex;

    span {
      line-height:2rem;
      padding-left:.4em;
    }
  }
  a {
    color:currentColor;
  }
}

[visually-hidden] {
  @extend %accessibly-hidden;
}

html:not(.hide-unmatched-elements) {
  #mainnav__nav {
  li {
    &[hidden] {
      display:block;
      opacity:0.5;
    }
  }
  }
}

[mobile-hidden] {
  @include media($iphoneP) {
    @include accessibly-hidden;
  }
}

#stickybar {
  @extend %painted;
  display:flex;
  justify-content: flex-end;
  color:white;
  align-content:center;
  padding:.5rem;
  border-bottom: 1px solid #1a2b3d;

  @include media(min-height 320px 4) {
    position:sticky;
    position:-webkit-sticky;
    top:0;
    z-index:99999;
  }
  > div > * {
    margin-right:0.5rem;
    &:last-child {
      margin-right:0;
    }
  }
  >* {
    &:first-child {
      margin-right:auto;
    }
  }
  div {
    a, button {
      appearance:none;
      -webkit-appearance:none;
      display:inline-block;
      text-decoration:none;
      padding-right: 6px;
      padding-left: 6px;
    }
    a, button, select {
      border:1px solid $dark;
      margin-right:.5rem;
      color:black;
      background:white;
      border-radius:4px;
      font-size:.8rem;
      font-family:inherit;
      padding-top: 2px;
      padding-bottom: 3px;
      text-align:center;
    }
  }
  > div {
    display:flex;
    align-items: center;


  }
  h2 {
    margin:0;
  }
}

details {
  div label {
    display:block;
  }
  fieldset:not(.mild) {
    div label {
      display:inline-block;
    }
  }
  .auto-tags, .inline-describe, .options {
    label {
      display:inline-block;
    }
  }
}

.clicky {
  @extend %very-greedy;
  line-height:2;
  border-radius:.25rem;
  background:rgb(240,240,240);
  border:1px solid rgb(220,220,220);
}

details fieldset {
  div label {
    //display:inline-block;
  }
}

.tooltip {
  position:relative;
}

.tooltip {
  &:hover:after, &:focus:after {
      background: #333;
      background: rgba(0,0,0,.8);
      border-radius: 0.5em;
      color: #fff;
      content: attr(title);
      padding: 0.5em;
      position: absolute;
      z-index: 98;
      left:4.5em;
      bottom:0em;
      min-width:10em;
      max-width:100%;

      //width: 220px;
  }
  &.long {
    &:hover:after, &:focus:after {
      min-width:20em;
      text-align:left;
    }
  }
  &.right {
    &:hover:after, &:focus:after {
      left:auto;
      right:2.5em;
    }

  }
}

button {
  &.emoji {
    @extend %clickable;
    border-radius:em(4px);
    border:1px solid rgb(230,230,230);
    background:white;
    color:rgb(160,160,160);
    text-align:center;

    &.reaction {
      min-width:3em;
      text-align:right;
    }
    &.add-reaction {
      margin-left:auto;
    }
    span {
      font-style:monospace;
      padding-left:0.5em;
    }
  }
}

.emoji-bar {
  display:flex;
  &.comfy {
    @include media($gtMobile) {
      padding-right:0;
    }
  }
  html[complex-layout] & {
    @include media($gtMobile) {
      margin-top:0;
    }
  }
}

@mixin comfy() {
  padding-left:0.5rem;
  padding-right:0.5rem;
}

%comfy {
  @include comfy;
}

.comfy {
  @extend %comfy;
}

#template-variables {
  > details {
    //margin-bottom:1rem;
  }
}

a[href="#ubersearch"] {
  text-decoration:none;
}

fieldset {
  > div > div {
    margin-bottom:1rem;
    &:last-child {
      margin-bottom:0;
    }
  }
  &.flexible {
    @include media($gtMobile) {
      max-width:24em;
      > div {
        column-count:2;
        //display:flex;
        //flex-wrap:wrap;
      }
      > div > div {
        //flex-shrink:0;
        //flex-grow:1;
      }
    }
  }
}

.quick-upload {
  form {
    margin-top:1rem;
  }
}

.dragdrop {
  margin-top:1rem;
  //padding-top:100%;
  padding-top:50%;
  background:lighten(#2c3a48, 22%);
  position:relative;
  border-radius:.75em;
  border:1px solid lighten(#2c3a48, 12%);
  transition:background 500ms ease;

  &:hover {
    background:lighten(#2c3a48, 28%);
  }
  &:after {
    position:absolute;
    top:4px;
    right:4px;
    bottom:4px;
    left:4px;
    z-index:99999;
    border:2px dashed lighten(#2c3a48, 12%);
    content:" ";
    display:block;
    border-radius:.75em;
  }
}

#uberform {
  position:relative;
  //position:sticky;
  //position:-webkit-sticky;
  //top:0;
  min-height:2em;
  //padding-top:1em;
  margin-top:1em;
  margin-bottom:1em;
  font-size:1.2em;
  padding-left:0.5rem;
  padding-right:0.5rem;
  body.searching & {
    flex-grow:4;
  }
  > div {
    position:relative;
  }
  @include media($mobile) {
    flex-basis:100%;
  }
  label[for="ubersearch"] {
    position:absolute;
    color:#2F363D;
    bottom:0.25em;
    z-index:1;
    h1 {
      font-size:1em;
      font-weight:600;
      //font-weight:normal;
    }
  }
  #ubersearch {
    min-width:6rem;
    font-size:1em;
    line-height:4rem;
    padding:0 1rem;
    width:100%;
    border-radius:em(4px);
    border:1px solid grey;
    margin-bottom:1rem;
    + label[for="ubersearch"] {
      html.js & {
        color:grey;
        text-transform:uppercase;
        font-size:.8em;
        font-weight:500;
        transition:all 0 ease;
        transition-delay:200ms;
        position:absolute;
        left:1rem;
        bottom:2rem;
        font-size:1.2em;
      }
    }

    + label[for="ubersearch"] {
      html[complex-layout] & {
        @include media($gtMobile) {
          bottom:.9rem;
        }
      }
    }

    /*&:not(.dirty) {

    }
    &:placeholder-shown {

    }*/

  &::-webkit-input-placeholder {
   opacity: 0;
   transition:opacity 240ms ease;
   transition-delay:120ms;
  }

    /*&:invalid {
    }*/

    /*+ label[for="ubersearch"] {
    }*/

    @include media($gtMobile) {
      padding-top:0.25rem;
    }

    &:focus, &.dirty {
      @include media($mobile) {
        padding-top:.5rem;
        transition:padding 240ms ease;
      }



      &::-webkit-input-placeholder {
        opacity:1;
        transition-delay:240ms;
      }
      & + label[for="ubersearch"] {
          font-size:.8rem !important;
          font-weight:bold !important;
          bottom:4rem !important;
          color:$dark !important;
          text-transform:uppercase !important;
          font-style:normal !important;
          @include media($gtMobile) {
            bottom:auto !important;
            top:0.25rem !important;
          }
      }
    }
  }
}

html[complex-layout] {
  @include media($gtMobile) {
    #tree {
      //padding-top:1rem;
      > nav {
        > details {
          padding-top:.5rem;
          padding-bottom:.5rem;
          margin-top:0;
          margin-bottom:0;
        }
      }
    }
  }
}

#tree {
  summary {
    html[complex-layout] & {
      @include media($gtMobile) {
        padding-top:0;
        padding-bottom:0;
      }
    }
  }
}

#mainnav__nav {
  summary {
    @include media($gtMobile) {
      padding-top:0;
      padding-bottom:0;
    }
  }
}

summary {
  padding:1rem .5rem;
  h1,h2,h3,h4,h5,h6 {
    display:inline;
  }
  #tree & {
    //padding-top:1rem;
    //padding-bottom:1rem;
  }
}

* {
  &:target {
    //box-shadow: 0 0 5px #51cbee;
    //border: 1px solid #51cbee; // opera mini doesn't support outline or @supports :(
    /*::-webkit-details-marker {
      color:#EB6436;
    }*/

  > summary {
    background:#EB6436;
    color:white;
  }

  }
}

/*#content {
  padding-bottom:.5rem;
  &:target {
    background:transparent;
    color:white;
    > summary {
      background:transparent;
      color:#EB6436;
    }
  }
}*/

.button-row {
  display:flex;
  justify-content:space-between;
  flex-wrap:wrap;
}

details nav {
  a {
    html.js & {
      color:currentColor;
      text-decoration:none;
    }
  }
  ul {
    list-style-type: none;
    margin:0;
    padding:0 0 0 0.5rem;
    li {
      margin-bottom:0.5em;
      &:last-of-type {
        margin:0;
      }
    }
  }
}

header {
  .actionnav {
    @include media(max-height 640px max-weight 640px 4) {
      display:none;
    }
  }
}

details {
  > div {
    > div {
      > div, fieldset {
        margin-bottom:1rem;
      }
    }
  }
}

main {
  > .actionnav, > form > .actionnav {
    html[complex-layout] & {
      @include media($gtMobile) {
        &:last-of-type {
          display:none;
        }
      }
    }
  }
  > section, > form > section {
    //padding-bottom:1rem;
    background:white;
    color:$dark;
    &:last-of-type {
      //padding-bottom:0;
    }
  }
  form > *, form > * > * {
    > details {
      border-bottom:1px solid rgb(240,240,240);

    }
  }
  > header, > form > header {

    > div {
      //padding-bottom:1rem;
      > details {
        //margin-bottom:1rem;
        &:last-of-type {
          margin-bottom:0;
        }
      }
    }
  }
}

body:not(.searching) {
  html[complex-layout] & {
    @include media($gtMobile) {
      overflow-y: hidden;
      min-height: 100vh;
    }
  }
}

main {
  > form {
    position:relative;
    /*&:after {
      content:" ";
      background:red;
      left:0;
      right:0;
      bottom:-100vh;
      height:100vh;
    }*/
  }
}

/*.page-wrapper {
  @include media($gtMobile) {
    @include outer-container;
    .sidenav {
      @include span-columns(3);
    }
    main {
      @include span-columns(9);
    }
    > .actionnav {
      position:fixed;
      bottom:0;
      left:0;
      right:0;
    }
  }
}*/

details {
  > nav {
    header {
      padding:0 0.5rem;
    }
  }
  &.context {
    > nav {
      padding:0 0.5rem;

    }

    > summary {
      //@include outer-container;
      &::-webkit-details-marker {
        transform:translateY(1.2em);
      }
      > div {
        display:flex;
        justify-content:flex-end;
        padding-left:1em;
        h3 {
          margin:0;
          margin-right:auto;
        }
        > div {
          //float:right;
        }
      }
    }
    ul {
      margin:0;
      padding:0 0.5rem;
      list-style-type:none;
    }
    .flexible {
      display:flex;
      h3 {
        flex-grow:10;
        margin:0;
      }
    }
  }
}

#mainnav__nav {
  h1,h2,h3,h4,h5,h6 {
    margin-bottom:0;
    img {
      max-width:1em;
      margin-right:.25rem;
    }
  }
  input[type="file"] {
    max-width:16em;
  }
  p {
    margin-top:0.5em;
  }
  html.js & {
    a {
      text-decoration:none;
    }
  }
  padding:0;
  ul {
    padding-left:0;
    border-bottom:1px solid #1a2b3d;
    margin:0;
  }
  details {
    border-bottom:1px solid #1a2b3d;
    &[open] {
      padding-bottom:0;
      margin-bottom:0;
      border:none;
    }
    nav {
      background:#2c3a48;
    }
    p {
      margin-bottom:0;
    }
    li {
      padding-top:1rem;
      padding-bottom:1rem;
      margin-bottom:0;
      transition:all 240ms ease;
      h1,h2,h3,h4,h5,h6 {
        margin-top:0;
      }
      &:hover, &:target, &:active {
        background:darken(#2c3a48,4%);
        opacity:1 !important;
      }
    }

  }

  li {
    border-top:1px solid #1a2b3d;
    padding:0 1em;
    color:#C9D4E1;
    p, label {
      color:#5ABCE5;
      &:first-of-type {

      }
    }
    p a {
      color:#5ABCE5;
    }
    &.messages {

    }
  }

  html[complex-layout] & {
    @include media($gtMobile) {
      > details > summary {
        line-height:3;
      }
    }
  }

}

.radio-bar fieldset {
  border-color:white;
}

.radio-bar fieldset > div {
  display:flex;
  > * {
    margin-right:.5em;
  }
  input[type="radio"] {
    font-size:1.4em;
  }
}

h1 {
  color:$dark;
  #mainnav & {
    color:currentColor;
  }
}

.document, .resource-groups, .settings, .content, .light {
  background:white;
  color:$dark;
  > div {
    padding:0 .5rem;
  }
  details {
    padding-left:1rem;
  }
  input, textarea {
    font-size:1.2rem;
  }
  input {
    &[type="file"], &[type="image"] {
      font-size:1.1rem;
    }
  }
  select {
    font-size:.9rem;
  }
}

.resource-groups {
  table {
    th,td {
      &:first-of-type {
        width:90%;
      }
    }
  }
}

main {
  h1 {
    padding:0 0.5rem;
    margin-top:1rem;
    margin-bottom:1rem;
  }
  > section, > form > section {
    &:last-of-type {
      > div > details {
        //padding-bottom:0.5rem;
      }
    }
  }
}

table {
  width:100%;
  th {
    text-align:left;
  }
}

ul.discrete {
  margin:0;
  padding:1rem 0;
  list-style-type: none;
  li {
    padding-bottom:0.5rem;
    &:last-of-type {
      padding-bottom:0;
    }
  }
}

/*main {
  >*:last-child {
    padding-bottom:.5rem;
  }
}*/

input[type="text"], input[type="url"], input[type="password"], textarea {
  width:100%;
}

#tree {
  @extend %shaded;
  background:$white;
  color:#566d87;
  //padding-top:1rem;
  //padding-bottom:1rem;
  h1,h2,h3,h4,h5,h6 {
    //margin-top:1rem;
    //margin-bottom:1rem;
  }
  html[complex-layout] & {
    @include media($gtMobile) {
      font-size:0.8em;
    }
  }
  summary summary {
    padding:0;
  }
  > nav {
    > * {
      border-bottom:1px solid rgb(240,240,240);
    }
  }
}

details {
  > div > div > div {
    //margin-bottom:0.5rem;
    &:last-of-type {
      //margin-bottom:0;
    }
  }
}

main > header > details, main > form > header > details {
  label {
    display:block;
  }
  > div > div > * {
    &:last-child {
      padding-bottom:0;
    }
  }
  /*> div > div > div {
    margin-bottom:0.5rem;
    &:last-of-type {
      margin-bottom:0;
    }
  }*/
  &.settings {
    fieldset {
      label {
        display:inline-block;
      }
    }
  }
}

label {
  &[for="hidemenu"], &[for="published"] {
    display:inline;
  }
}

#contentarea {
  width:100%;
}

#content > details > div {
  padding:0 0.5rem;
}

.actionnav {
  font-size:1em;
  color:#555555;
  padding:0.5rem;
  background:rgb(228,228,228);
  nav {
    display:flex;
    flex-wrap:wrap;
    button,a {
      min-height:em(48px); /* safari bug need to report this to flexbugs */
      line-height:3rem;
      font-size:inherit;
      background:$white;
      @extend %shaded;
      text-align:center;
      color:currentColor;
      text-decoration:none;
      display:block;
    }
    > * {
      margin:0;
      padding:0;
      flex-grow:1;
      border-radius:.25rem;
      border:none;
      margin-right:.4rem;
      &:first-child {
        flex-basis:100%;
        margin-right:0;
        margin-bottom:.4rem;
        background-color: #2b9385;
        background-image: linear-gradient(#2b9385, #007571);
        color:$white;
      }
      &:last-child {
        margin-right:0;
      }
    }
  }
}
