!function(a,b){if("object"==typeof exports&&"object"==typeof module)module.exports=b(require("M5Input"));else if("function"==typeof define&&define.amd)define(["M5Input"],b);else{var c=b("object"==typeof exports?require("M5Input"):a.M5Input);for(var d in c)("object"==typeof exports?exports:a)[d]=c[d]}}(this,function(a){return function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={exports:{},id:d,loaded:!1};return a[d].call(e.exports,e,e.exports,b),e.loaded=!0,e.exports}var c={};return b.m=a,b.c=c,b.p="",b(0)}([function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function f(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var g=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),h=function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;if(void 0!==g)return g.call(d)},i=c(1);b.M5AutoTag=function(a){function b(){var a=arguments.length<=0||void 0===arguments[0]?void 0:arguments[0],c=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];d(this,b);var f=e(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,{caseSensitive:!1,separator:",",inputSelector:'input[type="text"]',tagsHolder:".auto-tags"},c));return f.getElement()&&f.init(),f}return f(b,a),g(b,[{key:"init",value:function(){var a=arguments.length<=0||void 0===arguments[0]?void 0:arguments[0];h(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"init",this).call(this,a),this.assignTagsInputListener(),this.assignTagCheckboxesListeners()}},{key:"getTagsInput",value:function(){return this.getElement().querySelector(this.getOpts().inputSelector)}},{key:"getTagsHolder",value:function(){return this.getElement().querySelector(this.getOpts().tagsHolder)}},{key:"getTags",value:function(){return this.getTagsInput().value.split(this.getOpts().separator).map(function(a){return a.trim()}).filter(function(a){return a})}},{key:"getTagCheckboxes",value:function(){return this.getTagsHolder().querySelectorAll('input[type="checkbox"]')}},{key:"assignTagCheckboxesListeners",value:function(){for(var a=this,b=this.getTagCheckboxes(),c=this.getOpts().separator,d=0;d<b.length;d++)b[d].addEventListener("change",function(b){var d=a.getTags(),e=a.getOpts();e.caseSensitive||(d=d.map(function(a){return a.toLowerCase()==b.target.value.toLowerCase()?b.target.value:a})),b.target.checked?d.includes(b.target.value)||d.push(b.target.value):d=d.filter(function(a){return a!==b.target.value}),a.getTagsInput().value=d.join(c+" ")})}},{key:"assignTagsInputListener",value:function(){var a=this,b=this.getTagCheckboxes(),c=this.getOpts();this.getTagsInput().addEventListener("input",function(d){var e=a.getTags();c.caseSensitive||(e=e.map(function(a){return a.toLowerCase()}));for(var f=0;f<b.length;f++)b[f].checked=!1;for(var g=0;g<b.length;g++){var h=b[g];e.includes(c.caseSensitive?h.value:h.value.toLowerCase())&&(h.checked=!0)}})}}]),b}(i)},function(b,c){b.exports=a}])});